# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

# windows key
set $mod Mod4

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:monospace 10

# This font is widely installed, provides lots of unicode glyphs, right-to-left
# text rendering and scalability on retina/hidpi displays (thanks to pango).
#font pango:DejaVu Sans Mono 8

# Before i3 v4.8, we used to recommend this one as the default:
# font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
# The font above is very space-efficient, that is, it looks good, sharp and
# clear in small sizes. However, its unicode glyph coverage is limited, the old
# X core fonts rendering does not support right-to-left and this being a bitmap
# font, it doesn’t scale on retina/hidpi displays.

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
# bindsym $mod+Return exec i3-sensible-terminal
bindsym $mod+Return exec dbus-launch /usr/bin/gnome-terminal
# bindsym $mod+Return exec alacritty

# kill focused window
bindsym $mod+Shift+q kill

# look at .Xresources
bindsym $mod+space exec "rofi -show-icons -combi-modi window#drun -show combi"
bindsym $mod+c exec --no-startup-id "rofi -plugin-path /usr/lib64/rofi -show calc -modi calc -no-show-match -no-sort > /dev/null"
bindsym $mod+f exec --no-startup-id "xdg-open \\"$(locate home media | rofi -threads 0 -width 100 -dmenu -i -p \\"locate:\\")\\" "

# change focus
# bindsym $mod+j focus left
# bindsym $mod+k focus down
# bindsym $mod+l focus up
# bindsym $mod+eacute focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+j move left
bindsym $mod+Shift+k move down
bindsym $mod+Shift+l move up
bindsym $mod+Shift+eacute move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+v split h

# split in vertical orientation
bindsym $mod+h split v

# enter fullscreen mode for the focused container
# bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
#bindsym $mod+d focus child

# smart_gaps on
# gaps inner 3

# switch to workspace
bindsym $mod+1 workspace 1: chats
bindsym $mod+2 workspace 2: dev
bindsym $mod+3 workspace 3: dojo
bindsym $mod+4 workspace 4: read
bindsym $mod+5 workspace 5: meetings
bindsym $mod+6 workspace 6: edu
bindsym $mod+7 workspace 7: sides
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9: wss
bindsym $mod+0 workspace 10: browse

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace 1: chats
bindsym $mod+Shift+2 move container to workspace 2: dev
bindsym $mod+Shift+3 move container to workspace 3: dojo
bindsym $mod+Shift+4 move container to workspace 4: read
bindsym $mod+Shift+5 move container to workspace 5: meetings
bindsym $mod+Shift+6 move container to workspace 6: edu
bindsym $mod+Shift+7 move container to workspace 7: sides
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9: wss
bindsym $mod+Shift+0 move container to workspace 10: browse

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit sway
bindsym $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym j resize shrink width 10 px or 10 ppt
        bindsym k resize grow height 10 px or 10 ppt
        bindsym l resize shrink height 10 px or 10 ppt
        bindsym eacute resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

# active window border color
client.focused	#4c7899 #00ff00 #000000

# mouse middle click kills window
bindsym --release button2 kill

# remember last workspace
workspace_auto_back_and_forth yes
bindsym Ctrl+Tab workspace next

# alt-tab left to right
# bindsym Mod1+Tab focus right
# bindsym Mod1+Shift+Tab focus left

# ... or alt-tab up to down
bindsym Mod1+Tab focus down
bindsym Mod1+Shift+Tab focus up

input "1739:52824:SYNA8008:00_06CB:CE58_Touchpad" {
    dwt enabled
    tap enabled
    natural_scroll enabled
    middle_emulation enabled
}

# input "1:1:AT_Translated_Set_2_keyboard" {
input * {
    xkb_layout ch
    xkb_variant fr_mac
}

output eDP-1 resolution 3840x2400 position 3840,0
output eDP-1 scale 2
output * bg ~/Pictures/i3_solarized_bg.png fill

bindsym $mod+l exec "swaylock -f -c 000000"
# bindsym $mod+Print exec "flameshot gui --clipboard"
bindsym XF86Tools exec "grimshot copy area"
bindsym $mod+XF86Tools exec "grimshot save area"
bindsym Print exec "grimshot copy area"
bindsym $mod+Print exec "grimshot save area"
exec swayidle -w \
         timeout 300 'swaylock -f -c 000000' \
         timeout 600 'swaymsg "output * power off"' resume 'swaymsg "output * power on"' \
         before-sleep 'swaylock -f -c 000000'

# clipman
exec wl-paste -t text --watch clipman --notify store --histpath="~/.cache/clipman.json" --no-persist
bindsym $mod+Shift+underscore exec clipman pick -t rofi --histpath="~/.cache/clipman.json"

# watch out for plasma5-workspace, conflicting dbus notifications
# exec --no-startup-id /usr/lib/xfce4/notifyd/xfce4-notifyd
# NOTE: mako will start automatically from dbus when notification happens

# libinput-gestures
# exec --no-startup-id libinput-gestures -c ~/.config/sway/libgestures.conf
# exec --no-startup-id "xinput set-prop 'SYNA8008:00 06CB:CE58 Touchpad' 'libinput Natural Scrolling Enabled' 1"
# bindgesture swipe:3:right mod1+Left

# map capslock to ctrl
# exec --no-startup-id "sh ~/gitrepos/misc/setxkbmap"

# xmodmap
# exec --no-startup-id "xmodmap ~/.Xmodmap"

# xrandr
# laptop on 2560 x 1440
set $monitor eDP1 # my laptop's internal screen
set $monitor2 DP1-2 # external screen, they are set here to make it easier to move to new setups
# that has to be a fucking joke that it's the only multimedia key not detected.. bios bug?
#bindsym XF86Display exec --no-startup-id "sh ~/.i3/scripts/xrandr.sh $monitor $monitor2"
# exec --no-startup-id "sh ~/.i3/scripts/xrandr.sh $monitor"

# Pulse Audio controls
# bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume alsa_output.pci-0000_00_1f.3-platform-skl_hda_dsp_generic.HiFi__hw_sofhdadsp__sink -5% #decrease sound volume
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -5% #decrease sound volume
# bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume alsa_output.pci-0000_00_1f.3-platform-skl_hda_dsp_generic.HiFi__hw_sofhdadsp__sink +5% #decrease sound volume
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +5% #decrease sound volume
# bindsym XF86Launch6 exec --no-startup-id pamixer -t
# bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute alsa_output.pci-0000_00_1f.3-platform-skl_hda_dsp_generic.HiFi__hw_sofhdadsp__sink toggle
bindsym XF86AudioMute exec --no-startup-id pactl @DEFAULT_SINK@ toggle
# bindsym $mod+F12 exec --no-startup-id "~/gitrepos/misc/pulseaudio/toggle-mute-sources.sh"
bindsym XF86AudioMicMute exec --no-startup-id "~/gitrepos/misc/pulseaudio/toggle-mute-sources.sh"
# Sreen brightness controls
bindsym XF86MonBrightnessUp exec --no-startup-id brightnessctl set 10%+ # increase screen brightness
bindsym XF86MonBrightnessDown exec --no-startup-id brightnessctl set 10%- # decrease screen brightness

# Media player controls
# bindsym XF86AudioPlay exec playerctl play
# bindsym XF86AudioPause exec playerctl pause
# bindsym XF86AudioNext exec playerctl next
# bindsym XF86AudioPrev exec playerctl previous

# startup items
exec --no-startup-id "waybar"
#exec --no-startup-id "parcellite"
# network manager
# exec --no-startup-id "nmcli agent all"
# Start launching gnome polkit agent
exec --no-startup-id "/usr/lib/polkit-gnome-authentication-agent-1"
# exec --no-startup-id "nm-applet"
# exec --no-startup-id "picom -b"
 #exec --no-startup-id "flameshot"
exec --no-startup-id "blueman-manager"
exec --no-startup-id "pulseaudio --start"
# exec --no-startup-id "pasystray"
# exec --no-startup-id "albert"

# for_window [class="^.*"] border pixel 3

# enable floating window for virtualbox
#for_window [class="^VirtualBox$"] floating enable, move container to workspace 10

# assign some apps to some workspaces
assign [class="^Signal$"] 1: chats
assign [class="^VirtualBox$"] 9
# assign [class="^(?i)remmina$"] 9
#
# move the whole workspace to the next output
bindsym $mod+x move workspace to output left
bindsym $mod+y move workspace to output down

include @sysconfdir@/sway/config.d/*
